import { EventEmitter } from '../../utils';
import { Events, Message, UserCredentials, UserData, WebchatClient, type User } from '../types';
export type PushpinClientProps = {
    apiUrl: string;
    clientId: string;
};
export declare class PushpinClient extends EventEmitter<Events> implements WebchatClient {
    private _client;
    private _webhookId;
    private _apiUrl;
    private _state;
    constructor(props: PushpinClientProps);
    readonly mode = "pushpin";
    get apiUrl(): string;
    get clientId(): string;
    get userId(): string | undefined;
    getUser(): Promise<{
        data: {
            [k: string]: any;
        } | undefined;
    }>;
    updateUser(user: User): Promise<User>;
    get conversationId(): string | undefined;
    connect(creds?: UserCredentials, data?: UserData): Promise<UserCredentials | undefined>;
    private _initialConnect;
    private _reConnect;
    disconnect(): Promise<void>;
    sendMessage(message: string): Promise<void>;
    sendEvent(event: Record<string, any>): Promise<void>;
    switchConversation(id: string): Promise<void>;
    conversationExists(id: string): Promise<boolean>;
    userExists({ userToken }: UserCredentials): Promise<boolean>;
    newConversation(): Promise<void>;
    private _createNewConversation;
    listMessages(): Promise<Message[]>;
    private _connectConversation;
    private _mapMessage;
}
